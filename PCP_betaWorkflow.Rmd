---
title: "PCP_betaWorkflow"
author: "Will P."
date: "5/30/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## 00: R Setup

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(sp)
library(ggplot2)
library(ggforce) # to plot circles
library(dplyr)
library(tidyverse)
library(geosphere) # for geodist
library(useful) # for cartesian conversions
library(akima) # for irregular grid
library(reshape2) # for contor/grid


```

## 01: Input CSV into R
* Read and give headers and datatypes for each (eventually do more sophisticated validation/type detection)

```{r}
# TEST DATA: only one at a time
dataFile <- "testData/routes_bare_sm.csv" # flights to DTW
# dataFile <- "testData/routes_bare_sm.csv" # flights to DTW
# dataFile <- "testData/routes_bare_sm.csv" # flights to DTW
# dataFile <- "testData/routes_bare_sm.csv" # flights to DTW

df <- read.csv(file = dataFile)

summary(df)
class(df) # test to make sure it's a data frame

# STARTING TO INCLUDE FORCED GENERIC COLUMN HEADINGS

#for loop
df[col]
# lat
(max(routes$lat <= 90.0) || min(routes$lat >= -90.0)
# long
max(routes$long <= 180.0) || min(routes$long >= -180.0)
# ctrBin
(min = 0 && max = 1 && sum = 1) or typeof == "logical"
# valName
typeof == "character"
# val
typeof == "integer" || "double"

typeof(routes$isDTW)

     # obnoxiously explicit validation

if (typeof(routes$airport) != "character")
  routes$airport <- as.character(routes$airport)
if (typeof(routes$isDTW) != "logical")
  routes$isDTW <- as.logical(routes$isDTW)
if (typeof(routes$lat) != "double")
  routes$isDTW <- as.double(routes$lat)
if (typeof(routes$long) != "double")
  routes$isDTW <- as.double(routes$long)
if (typeof(routes$flightsDTW) != "integer" && typeof(routes$flightsDTW) != "double" )
  routes$flightsDTW <- as.double(routes$flightsDTW)

typeof(routes$isDTW)

```

