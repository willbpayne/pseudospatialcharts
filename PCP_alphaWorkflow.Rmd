---
title: "PCP_alphaWorkflow"
author: "VanMcG"
date: "January 26, 2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

## Input CSV into R
* Read and give headers and datatypes for each (eventually do more sophisticated validation/type detection)

```{r}
routes <- read.csv(file = "testData/routes_bare_sm.csv")
summary(routes)
# at some point, we need to enforce generic column headers

typeof(routes$isDTW)

       # obnoxiously explicit validation

if (typeof(routes$airport) != "character")
  routes$airport <- as.character(routes$airport)
if (typeof(routes$isDTW) != "logical")
  routes$isDTW <- as.logical(routes$isDTW)
if (typeof(routes$lat) != "double")
  routes$isDTW <- as.double(routes$lat)
if (typeof(routes$long) != "double")
  routes$isDTW <- as.double(routes$long)
if (typeof(routes$flightsDTW) != "integer" && typeof(routes$flightsDTW) != "double" )
  routes$flightsDTW <- as.double(routes$flightsDTW)

typeof(routes$isDTW)

```

## Select origin point from rows
* column "iscenter" value = 1
    + __currently pre-set in test data__
* validate that there is only one center

```{r}
if (sum(routes$isDTW) > 1)
  print("Too many centers. Check data")
if (sum(routes$isDTW) == 0)
    print("No center. Check data. Maybe we'll have an interface to select one later")
if (sum(routes$isDTW) == 1)
  print("There is one center! Hooray!")
```

## Declare a data frame; make it an object we want to use

```{r}
class(routes)
```

## Coordinates
* Go through lat and long
* find min and max
* set bounding box for plot and save for later

```{r}

```

# Distance
* Find longest distance between origin and any other point (RADIANS? GREAT CIRCLES? GEOGRAPHY?)

```{r}

```

# Units
* Convert this measurement in degrees into kilometers, and show user "The great circle distance between your origin, POINTNAME1, and farthest point, POINTNAME2, is X km"
* Save this measurement = var longestdistance (float)

```{r}

```

## Plot
* GGplot of the lat and long with low-res world background
* REPROJECT on logarithmic scale
* GGplot again

```{r}

```

